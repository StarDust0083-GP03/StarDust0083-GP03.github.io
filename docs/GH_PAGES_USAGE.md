# ä½¿ç”¨ gh-pages åŒ…éƒ¨ç½² GitHub Pages æŒ‡å—

## ğŸš€ **gh-pages åŒ…çš„ä¼˜åŠ¿**

- âœ… **ç®€å•æ˜“ç”¨** - ä¸€è¡Œå‘½ä»¤å³å¯éƒ¨ç½²
- âœ… **è‡ªåŠ¨å¤„ç†** - è‡ªåŠ¨åˆ›å»ºå’Œç®¡ç† gh-pages åˆ†æ”¯
- âœ… **çµæ´»é…ç½®** - æ”¯æŒå¤šç§éƒ¨ç½²é€‰é¡¹
- âœ… **CI/CD å‹å¥½** - å®Œç¾é›†æˆ GitHub Actions
- âœ… **å†å²ä¿ç•™** - ä¿ç•™éƒ¨ç½²å†å²è®°å½•

## ğŸ“¦ **å®‰è£…å’Œé…ç½®**

ä½ çš„é¡¹ç›®å·²ç»å®‰è£…äº† `gh-pages` åŒ…ï¼š
```bash
npm install --save-dev gh-pages
```

## ğŸ¯ **éƒ¨ç½²æ–¹å¼**

### **æ–¹å¼1ï¼šæœ¬åœ°éƒ¨ç½²ï¼ˆæ¨èï¼‰**
```bash
# æ„å»ºå¹¶éƒ¨ç½²
npm run deploy

# æˆ–è€…åˆ†åˆ«æ‰§è¡Œ
npm run build
npm run deploy
```

### **æ–¹å¼2ï¼šCI/CD è‡ªåŠ¨éƒ¨ç½²**
æ¯æ¬¡æ¨é€åˆ° main åˆ†æ”¯æ—¶è‡ªåŠ¨éƒ¨ç½²ï¼š
```bash
git push origin main
```

### **æ–¹å¼3ï¼šæ‰‹åŠ¨éƒ¨ç½²**
```bash
# æ‰‹åŠ¨æ„å»ºå’Œéƒ¨ç½²
npm run build
npm run deploy:manual
```

## âš™ï¸ **é…ç½®é€‰é¡¹**

### **package.json è„šæœ¬**
```json
{
  "scripts": {
    "predeploy": "npm run build",      // é¢„éƒ¨ç½²ï¼šè‡ªåŠ¨æ„å»º
    "deploy": "gh-pages -d build",     // åŸºç¡€éƒ¨ç½²
    "deploy:ci": "npm run build && node gh-pages.config.js",  // CI éƒ¨ç½²
    "deploy:local": "npm run build && gh-pages -d build -b gh-pages",  // æœ¬åœ°éƒ¨ç½²
    "deploy:manual": "gh-pages -d build -b gh-pages --repo https://github.com/ç”¨æˆ·å/ä»“åº“å.git"
  }
}
```

### **gh-pages.config.js é…ç½®**
é…ç½®æ–‡ä»¶åŒ…å«ä»¥ä¸‹ä¼˜åŒ–ï¼š
- ğŸ” **è‡ªåŠ¨è®¤è¯** - ä½¿ç”¨ GITHUB_TOKEN
- ğŸ“ **è‡ªå®šä¹‰æäº¤ä¿¡æ¯** - åŒ…å«æ—¶é—´æˆ³
- ğŸš€ **å¼ºåˆ¶æ¨é€** - è§£å†³å†²çªé—®é¢˜
- ğŸ“ **ç¼“å­˜ç®¡ç†** - ä½¿ç”¨æœ¬åœ°ç¼“å­˜ç›®å½•
- ğŸ¯ **é”™è¯¯å¤„ç†** - è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯

## ğŸ”§ **é«˜çº§ç”¨æ³•**

### **è‡ªå®šä¹‰éƒ¨ç½²åˆ†æ”¯**
```bash
# éƒ¨ç½²åˆ°è‡ªå®šä¹‰åˆ†æ”¯
gh-pages -d build -b my-pages-branch
```

### **æŒ‡å®šè¿œç¨‹ä»“åº“**
```bash
# ä½¿ç”¨ HTTPS
gh-pages -d build --repo https://github.com/ç”¨æˆ·å/ä»“åº“å.git

# ä½¿ç”¨ SSH
gh-pages -d build --repo git@github.com:ç”¨æˆ·å/ä»“åº“å.git
```

### **è‡ªå®šä¹‰æäº¤ä¿¡æ¯**
```bash
gh-pages -d build -m "è‡ªå®šä¹‰æäº¤ä¿¡æ¯"
```

### **ä¿ç•™æ–‡ä»¶**
```bash
# ä¿ç•™æŸäº›æ–‡ä»¶ä¸è¢«åˆ é™¤
gh-pages -d build --add
```

## ğŸš¨ **å¸¸è§é—®é¢˜è§£å†³**

### **é—®é¢˜1ï¼šæƒé™æ‹’ç»**
```
remote: Permission to ... denied
```
**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥ GitHub Actions æƒé™è®¾ç½®
2. ä½¿ç”¨ä¸ªäººè®¿é—®ä»¤ç‰Œï¼ˆPATï¼‰
3. ç¡®ä¿ä»“åº“è®¾ç½®æ­£ç¡®

### **é—®é¢˜2ï¼šæ„å»ºå¤±è´¥**
```
Build failed
```
**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# è®¾ç½® CI=false é¿å…è­¦å‘Šä¸­æ–­æ„å»º
CI=false npm run build
```

### **é—®é¢˜3ï¼š404 é”™è¯¯**
**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥ `homepage` å­—æ®µè®¾ç½®
2. ç¡®è®¤ gh-pages åˆ†æ”¯å·²åˆ›å»º
3. ç­‰å¾… GitHub Pages æ„å»ºå®Œæˆ

### **é—®é¢˜4ï¼šæ ·å¼ä¸¢å¤±**
**è§£å†³æ–¹æ¡ˆ**ï¼š
```json
{
  "homepage": "https://ä½ çš„ç”¨æˆ·å.github.io/ä»“åº“å"
}
```

## ğŸ“Š **éƒ¨ç½²çŠ¶æ€æ£€æŸ¥**

### **æŸ¥çœ‹éƒ¨ç½²å†å²**
```bash
# æŸ¥çœ‹ gh-pages åˆ†æ”¯æäº¤å†å²
git log --oneline origin/gh-pages
```

### **æ£€æŸ¥ GitHub Actions**
1. è¿›å…¥ä»“åº“çš„ **Actions** æ ‡ç­¾é¡µ
2. æŸ¥çœ‹æœ€æ–°çš„éƒ¨ç½²å·¥ä½œæµ
3. æ£€æŸ¥æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯

### **éªŒè¯éƒ¨ç½²ç»“æœ**
```bash
# æ£€æŸ¥ç½‘ç«™æ˜¯å¦å¯è®¿é—®
curl -I https://stardust0083-gp03.github.io/
```

## ğŸ¯ **æœ€ä½³å®è·µ**

### **1. åˆ†æ”¯ç®¡ç†**
- **main åˆ†æ”¯** - æºä»£ç 
- **gh-pages åˆ†æ”¯** - éƒ¨ç½²æ–‡ä»¶
- ä¿æŒä¸¤ä¸ªåˆ†æ”¯ç‹¬ç«‹

### **2. æäº¤ä¿¡æ¯**
- ä½¿ç”¨æœ‰æ„ä¹‰çš„æäº¤ä¿¡æ¯
- åŒ…å«éƒ¨ç½²æ—¶é—´æˆ³
- è®°å½•å˜æ›´å†…å®¹

### **3. æ„å»ºä¼˜åŒ–**
```bash
# æ¸…ç†æ„å»ºç¼“å­˜
rm -rf build
rm -rf node_modules/.cache

# é‡æ–°æ„å»º
npm run build
```

### **4. æœ¬åœ°æµ‹è¯•**
```bash
# æœ¬åœ°é¢„è§ˆæ„å»ºç»“æœ
npm run build
npx serve build
```

## ğŸš€ **ç«‹å³å¼€å§‹**

### **ç¬¬1æ­¥ï¼šæœ¬åœ°æµ‹è¯•éƒ¨ç½²**
```bash
npm run deploy
```

### **ç¬¬2æ­¥ï¼šæ¨é€åˆ° GitHub**
```bash
git add .
git commit -m "Configure gh-pages deployment"
git push origin main
```

### **ç¬¬3æ­¥ï¼šç›‘æ§éƒ¨ç½²**
- æŸ¥çœ‹ GitHub Actions çŠ¶æ€
- è®¿é—®éƒ¨ç½²åçš„ç½‘ç«™
- æ£€æŸ¥ gh-pages åˆ†æ”¯

## ğŸ“š **ç›¸å…³èµ„æº**

- [gh-pages å®˜æ–¹æ–‡æ¡£](https://github.com/tschaub/gh-pages)
- [GitHub Pages æ–‡æ¡£](https://docs.github.com/en/pages)
- [React éƒ¨ç½²æŒ‡å—](https://create-react-app.dev/docs/deployment/#github-pages)

---

âœ… **ä½ çš„éƒ¨ç½²å·²ç»é…ç½®å®Œæˆï¼**
- ğŸ¯ ä½¿ç”¨ `npm run deploy` è¿›è¡Œæœ¬åœ°éƒ¨ç½²
- ğŸ”„ æ¨é€åˆ° main åˆ†æ”¯è‡ªåŠ¨è§¦å‘ CI éƒ¨ç½²
- ğŸ“Š è¯¦ç»†çš„é…ç½®å’Œé”™è¯¯å¤„ç†
- ğŸš€ ä¼˜åŒ–çš„éƒ¨ç½²æµç¨‹