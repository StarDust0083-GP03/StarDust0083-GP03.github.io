# React + GitHub Pages éƒ¨ç½²æŒ‡å—

åŸºäº [react-gh-pages](https://github.com/gitname/react-gh-pages) æœ€ä½³å®è·µ

## ğŸš€ **éƒ¨ç½²æµç¨‹ç‰¹ç‚¹**

### **æ–¹æ¡ˆä¼˜åŠ¿**
âœ… **ç®€å•ç›´æ¥**ï¼šå• job å·¥ä½œæµï¼Œæ„å»ºå’Œéƒ¨ç½²ä¸€ä½“åŒ–
âœ… **æƒé™å‹å¥½**ï¼šä½¿ç”¨ `GITHUB_TOKEN`ï¼Œæ— éœ€å¤æ‚æƒé™é…ç½®
âœ… **å†å²ä¿ç•™**ï¼šä¿ç•™æäº¤å†å²ï¼Œä¾¿äºå›æ»š
âœ… **è‡ªå®šä¹‰æäº¤**ï¼šä½¿ç”¨åŸå§‹æäº¤ä¿¡æ¯ä½œä¸ºéƒ¨ç½²æ¶ˆæ¯
âœ… **æ–‡ä»¶ä¿æŠ¤**ï¼šä¿ç•™ `.nojekyll` ç­‰é‡è¦æ–‡ä»¶

### **ä¸ä¼ ç»Ÿæ–¹æ¡ˆå¯¹æ¯”**
| ç‰¹æ€§ | å½“å‰æ–¹æ¡ˆ | å®˜æ–¹ Actions æ–¹æ¡ˆ |
|------|----------|-------------------|
| å¤æ‚åº¦ | ç®€å• | å¤æ‚ |
| æƒé™è¦æ±‚ | ä½ | é«˜ |
| éƒ¨ç½²é€Ÿåº¦ | å¿« | ä¸­ç­‰ |
| å†å²è®°å½• | ä¿ç•™ | è¦†ç›– |
| é”™è¯¯æ¢å¤ | å®¹æ˜“ | å›°éš¾ |

## ğŸ“‹ **é…ç½®æ­¥éª¤**

### **1. ä»“åº“è®¾ç½®**
1. è¿›å…¥ **Settings** â†’ **Pages**
2. **Source**: é€‰æ‹© "Deploy from a branch"
3. **Branch**: é€‰æ‹© "gh-pages" / "root"
4. ç‚¹å‡» **Save**

### **2. ç¯å¢ƒå˜é‡**
ç¡®ä¿ `package.json` ä¸­æœ‰ï¼š
```json
{
  "homepage": "https://your-username.github.io/your-repo-name"
}
```

### **3. éƒ¨ç½²è§¦å‘**

#### **è‡ªåŠ¨éƒ¨ç½²**
- æ¨é€ä»£ç åˆ° `main` åˆ†æ”¯
- GitHub Actions è‡ªåŠ¨æ„å»ºå¹¶éƒ¨ç½²åˆ° `gh-pages` åˆ†æ”¯

#### **æ‰‹åŠ¨éƒ¨ç½²**
```bash
# æœ¬åœ°æ„å»ºå’Œéƒ¨ç½²
npm run deploy

# æˆ–è€…ä½¿ç”¨ CI ä¸“ç”¨è„šæœ¬
npm run deploy:ci
```

## ğŸ”§ **å·¥ä½œæµè¯¦è§£**

### **è§¦å‘æ¡ä»¶**
```yaml
on:
  push:
    branches: [ main ]  # main åˆ†æ”¯æ¨é€æ—¶è§¦å‘
  workflow_dispatch:    # æ”¯æŒæ‰‹åŠ¨è§¦å‘
```

### **æ„å»ºé…ç½®**
```yaml
env:
  CI: false              # é¿å…è­¦å‘Šä¸­æ–­æ„å»º
  PUBLIC_URL: https://stardust0083-gp03.github.io  # è®¾ç½®æ­£ç¡®çš„å…¬å…±URL
```

### **éƒ¨ç½²é…ç½®**
```yaml
- uses: peaceiris/actions-gh-pages@v3
  with:
    github_token: ${{ secrets.GITHUB_TOKEN }}  # è‡ªåŠ¨è·å–çš„token
    publish_dir: ./build                       # æ„å»ºè¾“å‡ºç›®å½•
    publish_branch: gh-pages                   # éƒ¨ç½²ç›®æ ‡åˆ†æ”¯
    commit_message: ${{ github.event.head_commit.message }}  # ä½¿ç”¨åŸå§‹æäº¤ä¿¡æ¯
    keep_files: true                           # ä¿ç•™ç°æœ‰æ–‡ä»¶
    force_orphan: false                        # ä¸å¼ºåˆ¶è¦†ç›–å†å²
```

## ğŸ¯ **éƒ¨ç½²éªŒè¯**

### **æˆåŠŸæ ‡å¿—**
- âœ… Actions å·¥ä½œæµæ˜¾ç¤ºç»¿è‰² âœ“
- âœ… `gh-pages` åˆ†æ”¯æœ‰æ–°çš„æäº¤
- âœ… GitHub Pages æ˜¾ç¤ºç»¿è‰² âœ“
- âœ… ç½‘ç«™å¯æ­£å¸¸è®¿é—®

### **æ£€æŸ¥è¦ç‚¹**
1. **æ„å»ºæ—¥å¿—**ï¼šæ£€æŸ¥æ˜¯å¦æœ‰æ„å»ºé”™è¯¯
2. **éƒ¨ç½²æ—¥å¿—**ï¼šç¡®è®¤æ–‡ä»¶æ˜¯å¦æ­£ç¡®ä¸Šä¼ 
3. **ç½‘ç«™è®¿é—®**ï¼šéªŒè¯é¡µé¢æ˜¯å¦æ­£å¸¸åŠ è½½
4. **èµ„æºåŠ è½½**ï¼šæ£€æŸ¥ CSSã€JS æ˜¯å¦æ­£ç¡®åŠ è½½

## ğŸ› ï¸ **å¸¸è§é—®é¢˜è§£å†³**

### **é—®é¢˜1ï¼š404 é”™è¯¯**
**åŸå› **ï¼š`homepage` è®¾ç½®ä¸æ­£ç¡®
**è§£å†³**ï¼šæ£€æŸ¥ `package.json` ä¸­çš„ `homepage` å­—æ®µ

### **é—®é¢˜2ï¼šç©ºç™½é¡µé¢**
**åŸå› **ï¼šè·¯ç”±é…ç½®é—®é¢˜
**è§£å†³**ï¼šç¡®ä¿ä½¿ç”¨ `HashRouter` æˆ–æ­£ç¡®é…ç½® `BrowserRouter`

### **é—®é¢˜3ï¼šæ ·å¼ä¸¢å¤±**
**åŸå› **ï¼šèµ„æºè·¯å¾„é”™è¯¯
**è§£å†³**ï¼šæ£€æŸ¥ `PUBLIC_URL` ç¯å¢ƒå˜é‡

### **é—®é¢˜4ï¼šéƒ¨ç½²æƒé™é”™è¯¯**
**åŸå› **ï¼šGitHub Token æƒé™ä¸è¶³
**è§£å†³**ï¼šæ£€æŸ¥ä»“åº“çš„ Actions æƒé™è®¾ç½®

## ğŸš€ **é«˜çº§é…ç½®**

### **è‡ªå®šä¹‰åŸŸå**
å¦‚æœä½ æœ‰è‡ªå®šä¹‰åŸŸåï¼š
1. åœ¨ä»“åº“æ ¹ç›®å½•åˆ›å»º `CNAME` æ–‡ä»¶
2. æ–‡ä»¶å†…å®¹ä¸ºä½ çš„åŸŸåï¼ˆå¦‚ï¼šexample.comï¼‰
3. æ›´æ–° `package.json` ä¸­çš„ `homepage`

### **ç¯å¢ƒåŒºåˆ†**
```json
{
  "scripts": {
    "deploy:dev": "npm run build && gh-pages -d build -r dev-repo",
    "deploy:prod": "npm run build && gh-pages -d build -r prod-repo"
  }
}
```

## ğŸ“Š **æ€§èƒ½ä¼˜åŒ–**

### **æ„å»ºä¼˜åŒ–**
- å¯ç”¨ä»£ç åˆ†å‰²
- å‹ç¼©èµ„æºæ–‡ä»¶
- ä½¿ç”¨ CDN åŠ é€Ÿ

### **éƒ¨ç½²ä¼˜åŒ–**
- ç¼“å­˜ä¾èµ–åŒ…
- å¹¶è¡ŒåŒ–æ„å»ºæ­¥éª¤
- å¢é‡éƒ¨ç½²

è¿™ä¸ªæ–¹æ¡ˆç»“åˆäº† react-gh-pages çš„ç®€æ´æ€§å’Œ GitHub Actions çš„è‡ªåŠ¨åŒ–ä¼˜åŠ¿ï¼